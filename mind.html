<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mind Cards</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600&family=Quicksand&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Quicksand', sans-serif;
  text-align: center;
  padding: 40px;
  background:
    linear-gradient(rgba(255,255,255,0.6), rgba(255,255,255,0.6)),
    url("verse.png") no-repeat center center / cover;
}

h1 {
  font-family: 'Baloo 2', cursive;
}

/* 공통 카드 영역 */
.cards {
  display: flex;
  gap: 20px;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 30px;
}

/* ===== 카드 3D 설정 ===== */
.scene {
  width: 180px;
  height: 240px;
  perspective: 1000px;
}

.scene.small {
  width: 220px;
  height: 160px;
}

/* 카드 본체 */
.card {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1.5s;
  cursor: pointer;
}

.card.flip {
  transform: rotateY(180deg);
}

/* 앞 / 뒤 공통 */
.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  box-sizing: border-box;
}

/* ===== 카테고리 카드 ===== */
.category-front {
  background: #444;
  color: white;
  font-size: 20px;
}

.category-back {
  background: #333;
  transform: rotateY(180deg);
}

.category-back img {
  width: 80px;
  opacity: 0.2;
}

/* ===== 질문 카드 ===== */
.question-front {
  background: white;
  color: #333;
  font-size: 15px;
  line-height: 1.6;
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
}

.question-back {
  background: #f2f2f2;
  transform: rotateY(180deg);
}

.question-back img {
  width: 70px;
  opacity: 0.15;
}

/* 버튼 */
button {
  margin-top: 40px;
  padding: 10px 25px;
  border-radius: 25px;
  border: none;
  background: #333;
  color: white;
  cursor: pointer;
}

/* footer */
footer {
  margin-top: 70px;
  font-size: 13px;
  background: rgba(255,255,255,0.75);
  display: inline-block;
  padding: 10px 18px;
  border-radius: 20px;
}
</style>
</head>

<body>

<h1>Choose a Category</h1>

<div class="cards" id="categoryCards"></div>
<div class="cards" id="questionCards"></div>

<button onclick="location.href='index.html'">Back to Home</button>

<footer>
  © <span id="year"></span> Cha GPTs. All rights reserved.
</footer>

<script>
const data = {
  Emotions: [
    "What emotion do you feel most often these days?",
    "What makes you feel calm?",
    "When do you feel happiest?",
    "What makes you nervous?",
    "How do you deal with stress?",
    "What makes you laugh easily?",
    "When do you feel lonely?",
    "What makes you feel proud?",
    "What makes you feel safe?",
    "How do you express emotions?"
  ],
  Relationships: [
    "What do you value in friendships?",
    "Who do you trust most?",
    "How do you show care?",
    "What makes a good relationship?",
    "How do you handle conflict?",
    "Who inspires you?",
    "What makes you feel connected?",
    "How do you keep relationships strong?",
    "What hurts relationships?",
    "What brings people closer?"
  ],
  Self: [
    "How would you describe yourself?",
    "What are you proud of?",
    "What do you want to improve?",
    "What motivates you?",
    "What scares you?",
    "What makes you confident?",
    "What makes you insecure?",
    "What defines you?",
    "What do you enjoy alone?",
    "What makes you unique?"
  ],
  Choices: [
    "How do you make decisions?",
    "Do you trust your intuition?",
    "What choice changed your life?",
    "What is a hard decision?",
    "How do you handle regret?",
    "Do you plan or go with flow?",
    "What influences your choices?",
    "What do you avoid deciding?",
    "What helps you decide?",
    "What matters most in choices?"
  ],
  Values: [
    "What matters most to you?",
    "What do you stand for?",
    "What do you value in others?",
    "What guides your life?",
    "What do you refuse to compromise?",
    "What makes life meaningful?",
    "What do you believe strongly?",
    "What principles guide you?",
    "What shapes your values?",
    "What do you protect?"
  ]
};

const categoryDiv = document.getElementById("categoryCards");
const questionDiv = document.getElementById("questionCards");

/* 카테고리 카드 생성 */
Object.keys(data).forEach(cat => {
  const scene = document.createElement("div");
  scene.className = "scene";

  const card = document.createElement("div");
  card.className = "card";

  card.innerHTML = `
    <div class="card-face category-front">${cat}</div>
    <div class="card-face category-back">
      <img src="verse.png" alt="Verse">
    </div>
  `;

  card.onclick = () => draw(cat, card);
  scene.appendChild(card);
  categoryDiv.appendChild(scene);
});

function draw(cat, card) {
  questionDiv.innerHTML = "";
  card.classList.add("flip");

  setTimeout(() => {
    const qs = [...data[cat]].sort(() => 0.5 - Math.random()).slice(0,3);

    qs.forEach((q, i) => {
      const scene = document.createElement("div");
      scene.className = "scene small";

      const qc = document.createElement("div");
      qc.className = "card";

      qc.innerHTML = `
        <div class="card-face question-front"></div>
        <div class="card-face question-back">
          <img src="verse.png" alt="Verse">
        </div>
      `;

      scene.appendChild(qc);
      questionDiv.appendChild(scene);

      setTimeout(() => {
        qc.classList.add("flip");
        setTimeout(() => {
          qc.querySelector(".question-front").textContent = q;
        }, 1200);
      }, i * 500);
    });

    card.classList.remove("flip");
  }, 1200);
}

document.getElementById("year").textContent = new Date().getFullYear();
</script>

</body>
</html>
